import{R as Yt,e as me,d as tt,h as ue,f as wt,v as Qe,Q as ye,u as Xt,g as Gt,c as Jt}from"./QBtn-CawODLaw.js";import{i as qe,e as ge,g as re,r as _,a as f,o as pe,u as ke,x as Ve,h,A as St,V as _t,t as qt,W as Tt,c as se,w as X,X as Mt,Y as Bt,y as Rt,C as At,T as De,n as en,Z as $t,_ as tn,$ as nn,a0 as ln,a1 as Ft,v as de,m as Se,f as an,s as rt,l as on,z as rn,b as un,F as sn,G as ut,H as le,J as Ce,L as oe,K as Q,O as Re,Q as Ne,R as He,N as ve,a2 as Ke,a3 as _e,U as cn,a4 as dn}from"./index-DWWyFhuQ.js";import{j as Ie,d as Te,Q as fn,u as Et,a as Lt,b as Pt,c as Vt,e as It,t as nt,D as vn,i as gn,k as mn,l as hn,f as bn,g as yn,r as st,n as ct,m as pn,v as kn,E as xn,F as Cn,C as Ue,z as wn,A as Sn,B as dt,y as _n}from"./focusout-BCAggH84.js";import{u as qn}from"./vue-i18n-DSINeQKZ.js";let We,Ae=0;const ae=new Array(256);for(let e=0;e<256;e++)ae[e]=(e+256).toString(16).substring(1);const Tn=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let a=t;a>0;a--)l.push(Math.floor(Math.random()*256));return l}})(),ft=4096;function Ge(){(We===void 0||Ae+16>ft)&&(Ae=0,We=Tn(ft));const e=Array.prototype.slice.call(We,Ae,Ae+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ae[e[0]]+ae[e[1]]+ae[e[2]]+ae[e[3]]+"-"+ae[e[4]]+ae[e[5]]+"-"+ae[e[6]]+ae[e[7]]+"-"+ae[e[8]]+ae[e[9]]+"-"+ae[e[10]]+ae[e[11]]+ae[e[12]]+ae[e[13]]+ae[e[14]]+ae[e[15]]}let Mn=0;const Bn=["click","keydown"],Rn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Mn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function An(e,t,l,a){const u=qe(Tt,ge);if(u===ge)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ge;const{proxy:g}=re(),y=_(null),C=_(null),P=_(null),p=f(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),M=f(()=>u.currentModel.value===e.name),x=f(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(M.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),D=f(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),B=f(()=>e.disable===!0||u.hasFocus.value===!0||M.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function V(w,O){if(O!==!0&&w?.qAvoidFocus!==!0&&y.value?.focus(),e.disable!==!0){u.updateModel({name:e.name}),l("click",w);return}}function j(w){St(w,[13,32])?V(w,!0):_t(w)!==!0&&w.keyCode>=35&&w.keyCode<=40&&w.altKey!==!0&&w.metaKey!==!0&&u.onKbdNavigate(w.keyCode,g.$el)===!0&&qt(w),l("keydown",w)}function N(){const w=u.tabProps.value.narrowIndicator,O=[],z=h("div",{ref:P,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&O.push(h(me,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&O.push(h("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&O.push(e.alertIcon!==void 0?h(me,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):h("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),w===!0&&O.push(z);const A=[h("div",{class:"q-focus-helper",tabindex:-1,ref:y}),h("div",{class:D.value},tt(t.default,O))];return w===!1&&A.push(z),A}const U={name:f(()=>e.name),rootRef:C,tabIndicatorRef:P,routeData:a};pe(()=>{u.unregisterTab(U)}),ke(()=>{u.registerTab(U)});function R(w,O){const z={ref:C,class:x.value,tabindex:B.value,role:"tab","aria-selected":M.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:V,onKeydown:j,...O};return Ve(h(w,z,N()),[[Yt,p.value]])}return{renderTab:R,$tabs:u}}const $n=se({name:"QTab",props:Rn,emits:Bn,setup(e,{slots:t,emit:l}){const{renderTab:a}=An(e,t,l);return()=>a("div")}});let Dt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Dt=e.scrollLeft>=0,e.remove()}function Fn(e,t,l){const a=l===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?a[0]:a[1]}${e?` text-${e}`:""}`}const En=["left","center","right","justify"],Ln=se({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>En.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:l}){const{proxy:a}=re(),{$q:u}=a,{registerTick:g}=Ie(),{registerTick:y}=Ie(),{registerTick:C}=Ie(),{registerTimeout:P,removeTimeout:p}=Te(),{registerTimeout:M,removeTimeout:x}=Te(),D=_(null),B=_(null),V=_(e.modelValue),j=_(!1),N=_(!0),U=_(!1),R=_(!1),w=[],O=_(0),z=_(!1);let A=null,$=null,F;const d=f(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Fn(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),s=f(()=>{const v=O.value,S=V.value;for(let I=0;I<v;I++)if(w[I].name.value===S)return!0;return!1}),k=f(()=>`q-tabs__content--align-${j.value===!0?"left":R.value===!0?"justify":e.align}`),o=f(()=>`q-tabs row no-wrap items-center q-tabs--${j.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),q=f(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+k.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),T=f(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),H=f(()=>e.vertical!==!0&&u.lang.rtl===!0),r=f(()=>Dt===!1&&H.value===!0);X(H,i),X(()=>e.modelValue,v=>{c({name:v,setCurrent:!0,skipEmit:!0})}),X(()=>e.outsideArrows,n);function c({name:v,setCurrent:S,skipEmit:I}){V.value!==v&&(I!==!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",v),(S===!0||e["onUpdate:modelValue"]===void 0)&&(E(V.value,v),V.value=v))}function n(){g(()=>{D.value&&m({width:D.value.offsetWidth,height:D.value.offsetHeight})})}function m(v){if(T.value===void 0||B.value===null)return;const S=v[T.value.container],I=Math.min(B.value[T.value.scroll],Array.prototype.reduce.call(B.value.children,(ee,Y)=>ee+(Y[T.value.content]||0),0)),J=S>0&&I>S;j.value=J,J===!0&&y(i),R.value=S<parseInt(e.breakpoint,10)}function E(v,S){const I=v!=null&&v!==""?w.find(ee=>ee.name.value===v):null,J=S!=null&&S!==""?w.find(ee=>ee.name.value===S):null;if(Be===!0)Be=!1;else if(I&&J){const ee=I.tabIndicatorRef.value,Y=J.tabIndicatorRef.value;A!==null&&(clearTimeout(A),A=null),ee.style.transition="none",ee.style.transform="none",Y.style.transition="none",Y.style.transform="none";const K=ee.getBoundingClientRect(),ie=Y.getBoundingClientRect();Y.style.transform=e.vertical===!0?`translate3d(0,${K.top-ie.top}px,0) scale3d(1,${ie.height?K.height/ie.height:1},1)`:`translate3d(${K.left-ie.left}px,0,0) scale3d(${ie.width?K.width/ie.width:1},1,1)`,C(()=>{A=setTimeout(()=>{A=null,Y.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Y.style.transform="none"},70)})}J&&j.value===!0&&L(J.rootRef.value)}function L(v){const{left:S,width:I,top:J,height:ee}=B.value.getBoundingClientRect(),Y=v.getBoundingClientRect();let K=e.vertical===!0?Y.top-J:Y.left-S;if(K<0){B.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(K),i();return}K+=e.vertical===!0?Y.height-ee:Y.width-I,K>0&&(B.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(K),i())}function i(){const v=B.value;if(v===null)return;const S=v.getBoundingClientRect(),I=e.vertical===!0?v.scrollTop:Math.abs(v.scrollLeft);H.value===!0?(N.value=Math.ceil(I+S.width)<v.scrollWidth-1,U.value=I>0):(N.value=I>0,U.value=e.vertical===!0?Math.ceil(I+S.height)<v.scrollHeight:Math.ceil(I+S.width)<v.scrollWidth)}function W(v){$!==null&&clearInterval($),$=setInterval(()=>{xe(v)===!0&&b()},5)}function ne(){W(r.value===!0?Number.MAX_SAFE_INTEGER:0)}function G(){W(r.value===!0?0:Number.MAX_SAFE_INTEGER)}function b(){$!==null&&(clearInterval($),$=null)}function Z(v,S){const I=Array.prototype.filter.call(B.value.children,ie=>ie===S||ie.matches&&ie.matches(".q-tab.q-focusable")===!0),J=I.length;if(J===0)return;if(v===36)return L(I[0]),I[0].focus(),!0;if(v===35)return L(I[J-1]),I[J-1].focus(),!0;const ee=v===(e.vertical===!0?38:37),Y=v===(e.vertical===!0?40:39),K=ee===!0?-1:Y===!0?1:void 0;if(K!==void 0){const ie=H.value===!0?-1:1,fe=I.indexOf(S)+K*ie;return fe>=0&&fe<J&&(L(I[fe]),I[fe].focus({preventScroll:!0})),!0}}const ce=f(()=>r.value===!0?{get:v=>Math.abs(v.scrollLeft),set:(v,S)=>{v.scrollLeft=-S}}:e.vertical===!0?{get:v=>v.scrollTop,set:(v,S)=>{v.scrollTop=S}}:{get:v=>v.scrollLeft,set:(v,S)=>{v.scrollLeft=S}});function xe(v){const S=B.value,{get:I,set:J}=ce.value;let ee=!1,Y=I(S);const K=v<Y?-1:1;return Y+=K*5,Y<0?(ee=!0,Y=0):(K===-1&&Y<=v||K===1&&Y>=v)&&(ee=!0,Y=v),J(S,Y),i(),ee}function he(v,S){for(const I in v)if(v[I]!==S[I])return!1;return!0}function Me(){let v=null,S={matchedLen:0,queryDiff:9999,hrefLen:0};const I=w.filter(K=>K.routeData?.hasRouterLink.value===!0),{hash:J,query:ee}=a.$route,Y=Object.keys(ee).length;for(const K of I){const ie=K.routeData.exact.value===!0;if(K.routeData[ie===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:fe,query:ze,matched:Wt,href:Zt}=K.routeData.resolvedLink.value,je=Object.keys(ze).length;if(ie===!0){if(fe!==J||je!==Y||he(ee,ze)===!1)continue;v=K.name.value;break}if(fe!==""&&fe!==J||je!==0&&he(ze,ee)===!1)continue;const be={matchedLen:Wt.length,queryDiff:Y-je,hrefLen:Zt.length-fe.length};if(be.matchedLen>S.matchedLen){v=K.name.value,S=be;continue}else if(be.matchedLen!==S.matchedLen)continue;if(be.queryDiff<S.queryDiff)v=K.name.value,S=be;else if(be.queryDiff!==S.queryDiff)continue;be.hrefLen>S.hrefLen&&(v=K.name.value,S=be)}if(v===null&&w.some(K=>K.routeData===void 0&&K.name.value===V.value)===!0){Be=!1;return}c({name:v,setCurrent:!0})}function Nt(v){if(p(),z.value!==!0&&D.value!==null&&v.target&&typeof v.target.closest=="function"){const S=v.target.closest(".q-tab");S&&D.value.contains(S)===!0&&(z.value=!0,j.value===!0&&L(S))}}function Ht(){P(()=>{z.value=!1},30)}function we(){at.avoidRouteWatcher===!1?M(Me):x()}function lt(){if(F===void 0){const v=X(()=>a.$route.fullPath,we);F=()=>{v(),F=void 0}}}function Kt(v){w.push(v),O.value++,n(),v.routeData===void 0||a.$route===void 0?M(()=>{if(j.value===!0){const S=V.value,I=S!=null&&S!==""?w.find(J=>J.name.value===S):null;I&&L(I.rootRef.value)}}):(lt(),v.routeData.hasRouterLink.value===!0&&we())}function Ut(v){w.splice(w.indexOf(v),1),O.value--,n(),F!==void 0&&v.routeData!==void 0&&(w.every(S=>S.routeData===void 0)===!0&&F(),we())}const at={currentModel:V,tabProps:d,hasFocus:z,hasActiveTab:s,registerTab:Kt,unregisterTab:Ut,verifyRouteModel:we,updateModel:c,onKbdNavigate:Z,avoidRouteWatcher:!1};Rt(Tt,at);function ot(){A!==null&&clearTimeout(A),b(),F?.()}let it,Be;return pe(ot),Mt(()=>{it=F!==void 0,ot()}),Bt(()=>{it===!0&&(lt(),Be=!0,we()),n()}),()=>h("div",{ref:D,class:o.value,role:"tablist",onFocusin:Nt,onFocusout:Ht},[h(fn,{onResize:m}),h("div",{ref:B,class:q.value,onScroll:i},ue(t.default)),h(me,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(N.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ne,onTouchstartPassive:ne,onMouseupPassive:b,onMouseleavePassive:b,onTouchendPassive:b}),h(me,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(U.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:G,onTouchstartPassive:G,onMouseupPassive:b,onMouseleavePassive:b,onTouchendPassive:b})])}}),Pn={ratio:[String,Number]};function Vn(e,t){return f(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const In=1.7778,Dn=se({name:"QImg",props:{...Pn,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:In},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:l}){const a=_(e.initialRatio),u=Vn(e,a),g=re(),{registerTimeout:y,removeTimeout:C}=Te(),{registerTimeout:P,removeTimeout:p}=Te(),M=f(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),x=f(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),D=[_(null),_(M.value)],B=_(0),V=_(!1),j=_(!1),N=f(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),U=f(()=>({width:e.width,height:e.height})),R=f(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),w=f(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function O(){if(p(),e.loadingShowDelay===0){V.value=!0;return}P(()=>{V.value=!0},e.loadingShowDelay)}function z(){p(),V.value=!1}function A({target:o}){Qe(g)===!1&&(C(),a.value=o.naturalHeight===0?.5:o.naturalWidth/o.naturalHeight,$(o,1))}function $(o,q){q===1e3||Qe(g)===!0||(o.complete===!0?F(o):y(()=>{$(o,q+1)},50))}function F(o){Qe(g)!==!0&&(B.value=B.value^1,D[B.value].value=null,z(),o.getAttribute("__qerror")!=="true"&&(j.value=!1),l("load",o.currentSrc||o.src))}function d(o){C(),z(),j.value=!0,D[B.value].value=x.value,D[B.value^1].value=M.value,l("error",o)}function s(o){const q=D[o].value,T={key:"img_"+o,class:R.value,style:w.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...q};return B.value===o?Object.assign(T,{class:T.class+"current",onLoad:A,onError:d}):T.class+="loaded",h("div",{class:"q-img__container absolute-full",key:"img"+o},h("img",T))}function k(){return V.value===!1?h("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ue(t[j.value===!0?"error":"default"])):h("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[h(wt,{color:e.spinnerColor,size:e.spinnerSize})])}{let o=function(){X(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,q=>{C(),j.value=!1,q===null?(z(),D[B.value^1].value=M.value):O(),D[B.value].value=q},{immediate:!0})};At.value===!0?ke(o):o()}return()=>{const o=[];return u.value!==null&&o.push(h("div",{key:"filler",style:u.value})),D[0].value!==null&&o.push(s(0)),D[1].value!==null&&o.push(s(1)),o.push(h(De,{name:"q-transition--fade"},k)),h("div",{key:"main",class:N.value,style:U.value,role:"img","aria-label":e.alt},o)}}}),Ze=se({name:"QCard",props:{...Et,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=re(),a=Lt(e,l),u=f(()=>"q-card"+(a.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>h(e.tag,{class:u.value},ue(t.default))}}),$e=se({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=f(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>h(e.tag,{class:l.value},ue(t.default))}}),On=["top","right","bottom","left"],Je={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>On.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Ot(e,t){return{formClass:f(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:f(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:f(()=>{if(e.externalLabel===!0){const l=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(l===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const zt={start:"self-end",center:"self-center",end:"self-start"},zn=Object.keys(zt),Fe=se({name:"QFabAction",props:{...Je,icon:{type:String,default:""},anchor:{type:String,validator:e=>zn.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const a=qe($t,()=>({showing:{value:!0},onChildClick:en})),{formClass:u,labelProps:g}=Ot(e,a.showing),y=f(()=>{const x=zt[e.anchor];return u.value+(x!==void 0?` ${x}`:"")}),C=f(()=>e.disable===!0||a.showing.value!==!0);function P(x){a.onChildClick(x),l("click",x)}function p(){const x=[];return t.icon!==void 0?x.push(t.icon()):e.icon!==""&&x.push(h(me,{name:e.icon})),(e.label!==""||t.label!==void 0)&&x[g.value.action](h("div",g.value.data,t.label!==void 0?t.label():[e.label])),tt(t.default,x)}const M=re();return Object.assign(M.proxy,{click:P}),()=>h(ye,{class:y.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:C.value,onClick:P},p)}});function jn(e){return e??null}function vt(e,t){return e??(t===!0?`f_${Ge()}`:null)}function jt({getValue:e,required:t=!0}={}){if(At.value===!0){const l=e!==void 0?_(jn(e())):_(null);return t===!0&&l.value===null&&ke(()=>{l.value=`f_${Ge()}`}),e!==void 0&&X(e,a=>{l.value=vt(a,t)}),l}return e!==void 0?f(()=>vt(e(),t)):_(`f_${Ge()}`)}const Qn=["up","right","down","left"],Nn=["left","center","right"],Hn=se({name:"QFab",props:{...Je,...Vt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...Je.hideLabel,default:null},direction:{type:String,default:"right",validator:e=>Qn.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Nn.includes(e)}},emits:Pt,setup(e,{slots:t}){const l=_(null),a=_(e.modelValue===!0),u=jt(),{proxy:{$q:g}}=re(),{formClass:y,labelProps:C}=Ot(e,a),P=f(()=>e.persistent!==!0),{hide:p,toggle:M}=It({showing:a,hideOnRouteChange:P}),x=f(()=>({opened:a.value})),D=f(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${y.value}`+(a.value===!0?" q-fab--opened":" q-fab--closed")),B=f(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${a.value===!0?"opened":"closed"}`),V=f(()=>{const R={id:u.value,role:"menu"};return a.value!==!0&&(R["aria-hidden"]="true"),R}),j=f(()=>`q-fab__icon-holder  q-fab__icon-holder--${a.value===!0?"opened":"closed"}`);function N(R,w){const O=t[R],z=`q-fab__${R} absolute-full`;return O===void 0?h(me,{class:z,name:e[w]||g.iconSet.fab[w]}):h("div",{class:z},O(x.value))}function U(){const R=[];return e.hideIcon!==!0&&R.push(h("div",{class:j.value},[N("icon","icon"),N("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&R[C.value.action](h("div",C.value.data,t.label!==void 0?t.label(x.value):[e.label])),tt(t.tooltip,R)}return Rt($t,{showing:a,onChildClick(R){p(R),R?.qAvoidFocus!==!0&&l.value?.$el.focus()}}),()=>h("div",{class:D.value},[h(ye,{ref:l,class:y.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u.value,onClick:M},U),h("div",{class:B.value,...V.value},ue(t.default))])}}),gt=/^on[A-Z]/;function Kn(){const{attrs:e,vnode:t}=re(),l={listeners:_({}),attributes:_({})};function a(){const u={},g={};for(const y in e)y!=="class"&&y!=="style"&&gt.test(y)===!1&&(u[y]=e[y]);for(const y in t.props)gt.test(y)===!0&&(g[y]=t.props[y]);l.attributes.value=u,l.listeners.value=g}return tn(a),a(),l}function Un({validate:e,resetValidation:t,requiresQForm:l}){const a=qe(nn,!1);if(a!==!1){const{props:u,proxy:g}=re();Object.assign(g,{validate:e,resetValidation:t}),X(()=>u.disable,y=>{y===!0?(typeof t=="function"&&t(),a.unbindComponent(g)):a.bindComponent(g)}),ke(()=>{u.disable!==!0&&a.bindComponent(g)}),pe(()=>{u.disable!==!0&&a.unbindComponent(g)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const mt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,ht=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,bt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ee=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Le=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ye={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>mt.test(e),hexaColor:e=>ht.test(e),hexOrHexaColor:e=>bt.test(e),rgbColor:e=>Ee.test(e),rgbaColor:e=>Le.test(e),rgbOrRgbaColor:e=>Ee.test(e)||Le.test(e),hexOrRgbColor:e=>mt.test(e)||Ee.test(e),hexaOrRgbaColor:e=>ht.test(e)||Le.test(e),anyColor:e=>bt.test(e)||Ee.test(e)||Le.test(e)},Wn=[!0,!1,"ondemand"],Zn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Wn.includes(e)}};function Yn(e,t){const{props:l,proxy:a}=re(),u=_(!1),g=_(null),y=_(!1);Un({validate:j,resetValidation:V});let C=0,P;const p=f(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),M=f(()=>l.disable!==!0&&p.value===!0&&t.value===!1),x=f(()=>l.error===!0||u.value===!0),D=f(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:g.value);X(()=>l.modelValue,()=>{y.value=!0,M.value===!0&&l.lazyRules===!1&&N()});function B(){l.lazyRules!=="ondemand"&&M.value===!0&&y.value===!0&&N()}X(()=>l.reactiveRules,U=>{U===!0?P===void 0&&(P=X(()=>l.rules,B,{immediate:!0,deep:!0})):P!==void 0&&(P(),P=void 0)},{immediate:!0}),X(()=>l.lazyRules,B),X(e,U=>{U===!0?y.value=!0:M.value===!0&&l.lazyRules!=="ondemand"&&N()});function V(){C++,t.value=!1,y.value=!1,u.value=!1,g.value=null,N.cancel()}function j(U=l.modelValue){if(l.disable===!0||p.value===!1)return!0;const R=++C,w=t.value!==!0?()=>{y.value=!0}:()=>{},O=(A,$)=>{A===!0&&w(),u.value=A,g.value=$||null,t.value=!1},z=[];for(let A=0;A<l.rules.length;A++){const $=l.rules[A];let F;if(typeof $=="function"?F=$(U,Ye):typeof $=="string"&&Ye[$]!==void 0&&(F=Ye[$](U)),F===!1||typeof F=="string")return O(!0,F),!1;F!==!0&&F!==void 0&&z.push(F)}return z.length===0?(O(!1),!0):(t.value=!0,Promise.all(z).then(A=>{if(A===void 0||Array.isArray(A)===!1||A.length===0)return R===C&&O(!1),!0;const $=A.find(F=>F===!1||typeof F=="string");return R===C&&O($!==void 0,$),$===void 0},A=>(R===C&&(console.error(A),O(!0)),!1)))}const N=ln(j,0);return pe(()=>{P?.(),N.cancel()}),Object.assign(a,{resetValidation:V,validate:j}),Ft(a,"hasError",()=>x.value),{isDirtyModel:y,hasRules:p,hasError:x,errorMessage:D,validate:j,resetValidation:V}}function et(e){return e!=null&&(""+e).length!==0}const Xn={...Et,...Zn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Gn={...Xn,maxlength:[Number,String]},Jn=["update:modelValue","clear","focus","blur"];function el({requiredForAttr:e=!0,tagProp:t,changeEvent:l=!1}={}){const{props:a,proxy:u}=re(),g=Lt(a,u.$q),y=jt({required:e,getValue:()=>a.for});return{requiredForAttr:e,changeEvent:l,tag:t===!0?f(()=>a.tag):{value:"label"},isDark:g,editable:f(()=>a.disable!==!0&&a.readonly!==!0),innerLoading:_(!1),focused:_(!1),hasPopupOpen:!1,splitAttrs:Kn(),targetUid:y,rootRef:_(null),targetRef:_(null),controlRef:_(null)}}function tl(e){const{props:t,emit:l,slots:a,attrs:u,proxy:g}=re(),{$q:y}=g;let C=null;e.hasValue===void 0&&(e.hasValue=f(()=>et(t.modelValue))),e.emitValue===void 0&&(e.emitValue=n=>{l("update:modelValue",n)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:d,onFocusout:s}),Object.assign(e,{clearValue:k,onControlFocusin:d,onControlFocusout:s,focus:$}),e.computedCounter===void 0&&(e.computedCounter=f(()=>{if(t.counter!==!1){const n=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,m=t.maxlength!==void 0?t.maxlength:t.maxValues;return n+(m!==void 0?" / "+m:"")}}));const{isDirtyModel:P,hasRules:p,hasError:M,errorMessage:x,resetValidation:D}=Yn(e.focused,e.innerLoading),B=e.floatingLabel!==void 0?f(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):f(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),V=f(()=>t.bottomSlots===!0||t.hint!==void 0||p.value===!0||t.counter===!0||t.error!==null),j=f(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),N=f(()=>`q-field row no-wrap items-start q-field--${j.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(B.value===!0?" q-field--float":"")+(R.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(M.value===!0?" q-field--error":"")+(M.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&V.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),U=f(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(M.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),R=f(()=>t.labelSlot===!0||t.label!==void 0),w=f(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&M.value!==!0?` text-${t.labelColor}`:"")),O=f(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:B.value,modelValue:t.modelValue,emitValue:e.emitValue})),z=f(()=>{const n={};return e.targetUid.value&&(n.for=e.targetUid.value),t.disable===!0&&(n["aria-disabled"]="true"),n});function A(){const n=document.activeElement;let m=e.targetRef?.value;m&&(n===null||n.id!==e.targetUid.value)&&(m.hasAttribute("tabindex")===!0||(m=m.querySelector("[tabindex]")),m!==n&&m?.focus({preventScroll:!0}))}function $(){nt(A)}function F(){vn(A);const n=document.activeElement;n!==null&&e.rootRef.value.contains(n)&&n.blur()}function d(n){C!==null&&(clearTimeout(C),C=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",n))}function s(n,m){C!==null&&clearTimeout(C),C=setTimeout(()=>{C=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",n)),m?.())})}function k(n){qt(n),y.platform.is.mobile!==!0?(e.targetRef?.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),e.changeEvent===!0&&l("change",null),l("clear",t.modelValue),de(()=>{const m=P.value;D(),P.value=m})}function o(n){[13,32].includes(n.keyCode)&&k(n)}function q(){const n=[];return a.prepend!==void 0&&n.push(h("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Se},a.prepend())),n.push(h("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},T())),M.value===!0&&t.noErrorIcon===!1&&n.push(r("error",[h(me,{name:y.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?n.push(r("inner-loading-append",a.loading!==void 0?a.loading():[h(wt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&n.push(r("inner-clearable-append",[h(me,{class:"q-field__focusable-action",name:t.clearIcon||y.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":y.lang.label.clear,onKeyup:o,onClick:k})])),a.append!==void 0&&n.push(h("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Se},a.append())),e.getInnerAppend!==void 0&&n.push(r("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&n.push(e.getControlChild()),n}function T(){const n=[];return t.prefix!==void 0&&t.prefix!==null&&n.push(h("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&n.push(e.getShadowControl()),e.getControl!==void 0?n.push(e.getControl()):a.rawControl!==void 0?n.push(a.rawControl()):a.control!==void 0&&n.push(h("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},a.control(O.value))),R.value===!0&&n.push(h("div",{class:w.value},ue(a.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&n.push(h("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),n.concat(ue(a.default))}function H(){let n,m;M.value===!0?x.value!==null?(n=[h("div",{role:"alert"},x.value)],m=`q--slot-error-${x.value}`):(n=ue(a.error),m="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(n=[h("div",t.hint)],m=`q--slot-hint-${t.hint}`):(n=ue(a.hint),m="q--slot-hint"));const E=t.counter===!0||a.counter!==void 0;if(t.hideBottomSpace===!0&&E===!1&&n===void 0)return;const L=h("div",{key:m,class:"q-field__messages col"},n);return h("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Se},[t.hideBottomSpace===!0?L:h(De,{name:"q-transition--field-message"},()=>L),E===!0?h("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function r(n,m){return m===null?null:h("div",{key:n,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},m)}let c=!1;return Mt(()=>{c=!0}),Bt(()=>{c===!0&&t.autofocus===!0&&g.focus()}),t.autofocus===!0&&ke(()=>{g.focus()}),pe(()=>{C!==null&&clearTimeout(C)}),Object.assign(g,{focus:$,blur:F}),function(){const m=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...z.value}:z.value;return h(e.tag.value,{ref:e.rootRef,class:[N.value,u.class],style:u.style,...m},[a.before!==void 0?h("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Se},a.before()):null,h("div",{class:"q-field__inner relative-position col self-stretch"},[h("div",{ref:e.controlRef,class:U.value,tabindex:-1,...e.controlEvents},q()),V.value===!0?H():null]),a.after!==void 0?h("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Se},a.after()):null])}}const yt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Oe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Qt=Object.keys(Oe);Qt.forEach(e=>{Oe[e].regex=new RegExp(Oe[e].pattern)});const nl=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Qt.join("")+"])|(.)","g"),pt=/[.*+?^${}()|[\]\\]/g,te="",ll={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function al(e,t,l,a){let u,g,y,C,P,p;const M=_(null),x=_(B());function D(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}X(()=>e.type+e.autogrow,j),X(()=>e.mask,d=>{if(d!==void 0)N(x.value,!0);else{const s=$(x.value);j(),e.modelValue!==s&&t("update:modelValue",s)}}),X(()=>e.fillMask+e.reverseFillMask,()=>{M.value===!0&&N(x.value,!0)}),X(()=>e.unmaskedValue,()=>{M.value===!0&&N(x.value)});function B(){if(j(),M.value===!0){const d=z($(e.modelValue));return e.fillMask!==!1?F(d):d}return e.modelValue}function V(d){if(d<u.length)return u.slice(-d);let s="",k=u;const o=k.indexOf(te);if(o!==-1){for(let q=d-k.length;q>0;q--)s+=te;k=k.slice(0,o)+s+k.slice(o)}return k}function j(){if(M.value=e.mask!==void 0&&e.mask.length!==0&&D(),M.value===!1){C=void 0,u="",g="";return}const d=yt[e.mask]===void 0?e.mask:yt[e.mask],s=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",k=s.replace(pt,"\\$&"),o=[],q=[],T=[];let H=e.reverseFillMask===!0,r="",c="";d.replace(nl,(L,i,W,ne,G)=>{if(ne!==void 0){const b=Oe[ne];T.push(b),c=b.negate,H===!0&&(q.push("(?:"+c+"+)?("+b.pattern+"+)?(?:"+c+"+)?("+b.pattern+"+)?"),H=!1),q.push("(?:"+c+"+)?("+b.pattern+")?")}else if(W!==void 0)r="\\"+(W==="\\"?"":W),T.push(W),o.push("([^"+r+"]+)?"+r+"?");else{const b=i!==void 0?i:G;r=b==="\\"?"\\\\\\\\":b.replace(pt,"\\\\$&"),T.push(b),o.push("([^"+r+"]+)?"+r+"?")}});const n=new RegExp("^"+o.join("")+"("+(r===""?".":"[^"+r+"]")+"+)?"+(r===""?"":"["+r+"]*")+"$"),m=q.length-1,E=q.map((L,i)=>i===0&&e.reverseFillMask===!0?new RegExp("^"+k+"*"+L):i===m?new RegExp("^"+L+"("+(c===""?".":c)+"+)?"+(e.reverseFillMask===!0?"$":k+"*")):new RegExp("^"+L));y=T,C=L=>{const i=n.exec(e.reverseFillMask===!0?L:L.slice(0,T.length+1));i!==null&&(L=i.slice(1).join(""));const W=[],ne=E.length;for(let G=0,b=L;G<ne;G++){const Z=E[G].exec(b);if(Z===null)break;b=b.slice(Z.shift().length),W.push(...Z)}return W.length!==0?W.join(""):L},u=T.map(L=>typeof L=="string"?L:te).join(""),g=u.split(te).join(s)}function N(d,s,k){const o=a.value,q=o.selectionEnd,T=o.value.length-q,H=$(d);s===!0&&j();const r=z(H),c=e.fillMask!==!1?F(r):r,n=x.value!==c;o.value!==c&&(o.value=c),n===!0&&(x.value=c),document.activeElement===o&&de(()=>{if(c===g){const E=e.reverseFillMask===!0?g.length:0;o.setSelectionRange(E,E,"forward");return}if(k==="insertFromPaste"&&e.reverseFillMask!==!0){const E=o.selectionEnd;let L=q-1;for(let i=P;i<=L&&i<E;i++)u[i]!==te&&L++;R.right(o,L);return}if(["deleteContentBackward","deleteContentForward"].indexOf(k)!==-1){const E=e.reverseFillMask===!0?q===0?c.length>r.length?1:0:Math.max(0,c.length-(c===g?0:Math.min(r.length,T)+1))+1:q;o.setSelectionRange(E,E,"forward");return}if(e.reverseFillMask===!0)if(n===!0){const E=Math.max(0,c.length-(c===g?0:Math.min(r.length,T+1)));E===1&&q===1?o.setSelectionRange(E,E,"forward"):R.rightReverse(o,E)}else{const E=c.length-T;o.setSelectionRange(E,E,"backward")}else if(n===!0){const E=Math.max(0,u.indexOf(te),Math.min(r.length,q)-1);R.right(o,E)}else{const E=q-1;R.right(o,E)}});const m=e.unmaskedValue===!0?$(c):c;String(e.modelValue)!==m&&(e.modelValue!==null||m!=="")&&l(m,!0)}function U(d,s,k){const o=z($(d.value));s=Math.max(0,u.indexOf(te),Math.min(o.length,s)),P=s,d.setSelectionRange(s,k,"forward")}const R={left(d,s){const k=u.slice(s-1).indexOf(te)===-1;let o=Math.max(0,s-1);for(;o>=0;o--)if(u[o]===te){s=o,k===!0&&s++;break}if(o<0&&u[s]!==void 0&&u[s]!==te)return R.right(d,0);s>=0&&d.setSelectionRange(s,s,"backward")},right(d,s){const k=d.value.length;let o=Math.min(k,s+1);for(;o<=k;o++)if(u[o]===te){s=o;break}else u[o-1]===te&&(s=o);if(o>k&&u[s-1]!==void 0&&u[s-1]!==te)return R.left(d,k);d.setSelectionRange(s,s,"forward")},leftReverse(d,s){const k=V(d.value.length);let o=Math.max(0,s-1);for(;o>=0;o--)if(k[o-1]===te){s=o;break}else if(k[o]===te&&(s=o,o===0))break;if(o<0&&k[s]!==void 0&&k[s]!==te)return R.rightReverse(d,0);s>=0&&d.setSelectionRange(s,s,"backward")},rightReverse(d,s){const k=d.value.length,o=V(k),q=o.slice(0,s+1).indexOf(te)===-1;let T=Math.min(k,s+1);for(;T<=k;T++)if(o[T-1]===te){s=T,s>0&&q===!0&&s--;break}if(T>k&&o[s-1]!==void 0&&o[s-1]!==te)return R.leftReverse(d,k);d.setSelectionRange(s,s,"forward")}};function w(d){t("click",d),p=void 0}function O(d){if(t("keydown",d),_t(d)===!0||d.altKey===!0)return;const s=a.value,k=s.selectionStart,o=s.selectionEnd;if(d.shiftKey||(p=void 0),d.keyCode===37||d.keyCode===39){d.shiftKey&&p===void 0&&(p=s.selectionDirection==="forward"?k:o);const q=R[(d.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(d.preventDefault(),q(s,p===k?o:k),d.shiftKey){const T=s.selectionStart;s.setSelectionRange(Math.min(p,T),Math.max(p,T),"forward")}}else d.keyCode===8&&e.reverseFillMask!==!0&&k===o?(R.left(s,k),s.setSelectionRange(s.selectionStart,o,"backward")):d.keyCode===46&&e.reverseFillMask===!0&&k===o&&(R.rightReverse(s,o),s.setSelectionRange(k,s.selectionEnd,"forward"))}function z(d){if(d==null||d==="")return"";if(e.reverseFillMask===!0)return A(d);const s=y;let k=0,o="";for(let q=0;q<s.length;q++){const T=d[k],H=s[q];if(typeof H=="string")o+=H;else if(T!==void 0&&H.regex.test(T))o+=H.transform!==void 0?H.transform(T):T,k++;else return o}return o}function A(d){const s=y,k=u.indexOf(te);let o=d.length-1,q="";for(let T=s.length-1;T>=0&&o!==-1;T--){const H=s[T];let r=d[o];if(typeof H=="string")q=H+q;else if(r!==void 0&&H.regex.test(r))do q=(H.transform!==void 0?H.transform(r):r)+q,o--,r=d[o];while(k===T&&r!==void 0&&H.regex.test(r));else return q}return q}function $(d){return typeof d!="string"||C===void 0?typeof d=="number"?C(""+d):d:C(d)}function F(d){return g.length-d.length<=0?d:e.reverseFillMask===!0&&d.length!==0?g.slice(0,-d.length)+d:d+g.slice(d.length)}return{innerValue:x,hasMask:M,moveCursorForPaste:U,updateMaskValue:N,onMaskedKeydown:O,onMaskedClick:w}}const ol={name:String};function il(e){return f(()=>e.name||e.for)}function rl(e,t){function l(){const a=e.modelValue;try{const u="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(g=>{u.items.add(g)}),{files:u.files}}catch{return{files:void 0}}}return f(()=>{if(e.type==="file")return l()})}const ul=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,sl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,cl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,dl=/[a-z0-9_ -]$/i;function fl(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(an.is.firefox===!0?dl.test(l.data)===!1:ul.test(l.data)===!0||sl.test(l.data)===!0||cl.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const vl=se({name:"QInput",inheritAttrs:!1,props:{...Gn,...ll,...ol,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Jn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:a}=re(),{$q:u}=a,g={};let y=NaN,C,P,p=null,M;const x=_(null),D=il(e),{innerValue:B,hasMask:V,moveCursorForPaste:j,updateMaskValue:N,onMaskedKeydown:U,onMaskedClick:R}=al(e,t,r,x),w=rl(e),O=f(()=>et(B.value)),z=fl(T),A=el({changeEvent:!0}),$=f(()=>e.type==="textarea"||e.autogrow===!0),F=f(()=>$.value===!0||["text","search","url","tel","password"].includes(e.type)),d=f(()=>{const i={...A.splitAttrs.listeners.value,onInput:T,onPaste:q,onChange:n,onBlur:m,onFocus:rt};return i.onCompositionstart=i.onCompositionupdate=i.onCompositionend=z,V.value===!0&&(i.onKeydown=U,i.onClick=R),e.autogrow===!0&&(i.onAnimationend=H),i}),s=f(()=>{const i={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:D.value,...A.splitAttrs.attributes.value,id:A.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return $.value===!1&&(i.type=e.type),e.autogrow===!0&&(i.rows=1),i});X(()=>e.type,()=>{x.value&&(x.value.value=e.modelValue)}),X(()=>e.modelValue,i=>{if(V.value===!0){if(P===!0&&(P=!1,String(i)===y))return;N(i)}else B.value!==i&&(B.value=i,e.type==="number"&&g.hasOwnProperty("value")===!0&&(C===!0?C=!1:delete g.value));e.autogrow===!0&&de(c)}),X(()=>e.autogrow,i=>{i===!0?de(c):x.value!==null&&l.rows>0&&(x.value.style.height="auto")}),X(()=>e.dense,()=>{e.autogrow===!0&&de(c)});function k(){nt(()=>{const i=document.activeElement;x.value!==null&&x.value!==i&&(i===null||i.id!==A.targetUid.value)&&x.value.focus({preventScroll:!0})})}function o(){x.value?.select()}function q(i){if(V.value===!0&&e.reverseFillMask!==!0){const W=i.target;j(W,W.selectionStart,W.selectionEnd)}t("paste",i)}function T(i){if(!i||!i.target)return;if(e.type==="file"){t("update:modelValue",i.target.files);return}const W=i.target.value;if(i.target.qComposing===!0){g.value=W;return}if(V.value===!0)N(W,!1,i.inputType);else if(r(W),F.value===!0&&i.target===document.activeElement){const{selectionStart:ne,selectionEnd:G}=i.target;ne!==void 0&&G!==void 0&&de(()=>{i.target===document.activeElement&&W.indexOf(i.target.value)===0&&i.target.setSelectionRange(ne,G)})}e.autogrow===!0&&c()}function H(i){t("animationend",i),c()}function r(i,W){M=()=>{p=null,e.type!=="number"&&g.hasOwnProperty("value")===!0&&delete g.value,e.modelValue!==i&&y!==i&&(y=i,W===!0&&(P=!0),t("update:modelValue",i),de(()=>{y===i&&(y=NaN)})),M=void 0},e.type==="number"&&(C=!0,g.value=i),e.debounce!==void 0?(p!==null&&clearTimeout(p),g.value=i,p=setTimeout(M,e.debounce)):M()}function c(){requestAnimationFrame(()=>{const i=x.value;if(i!==null){const W=i.parentNode.style,{scrollTop:ne}=i,{overflowY:G,maxHeight:b}=u.platform.is.firefox===!0?{}:window.getComputedStyle(i),Z=G!==void 0&&G!=="scroll";Z===!0&&(i.style.overflowY="hidden"),W.marginBottom=i.scrollHeight-1+"px",i.style.height="1px",i.style.height=i.scrollHeight+"px",Z===!0&&(i.style.overflowY=parseInt(b,10)<i.scrollHeight?"auto":"hidden"),W.marginBottom="",i.scrollTop=ne}})}function n(i){z(i),p!==null&&(clearTimeout(p),p=null),M?.(),t("change",i.target.value)}function m(i){i!==void 0&&rt(i),p!==null&&(clearTimeout(p),p=null),M?.(),C=!1,P=!1,delete g.value,e.type!=="file"&&setTimeout(()=>{x.value!==null&&(x.value.value=B.value!==void 0?B.value:"")})}function E(){return g.hasOwnProperty("value")===!0?g.value:B.value!==void 0?B.value:""}pe(()=>{m()}),ke(()=>{e.autogrow===!0&&c()}),Object.assign(A,{innerValue:B,fieldClass:f(()=>`q-${$.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:f(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:x,emitValue:r,hasValue:O,floatingLabel:f(()=>O.value===!0&&(e.type!=="number"||isNaN(B.value)===!1)||et(e.displayValue)),getControl:()=>h($.value===!0?"textarea":"input",{ref:x,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...s.value,...d.value,...e.type!=="file"?{value:E()}:w.value}),getShadowControl:()=>h("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+($.value===!0?"":" text-no-wrap")},[h("span",{class:"invisible"},E()),h("span",e.shadowText)])});const L=tl(A);return Object.assign(a,{focus:k,select:o,getNativeElement:()=>x.value}),Ft(a,"nativeEl",()=>x.value),L}}),gl=se({name:"QCardActions",props:{...Xt,vertical:Boolean},setup(e,{slots:t}){const l=Gt(e),a=f(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>h("div",{class:a.value},ue(t.default))}});let Pe=0;const ml={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},kt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},hl=se({name:"QDialog",inheritAttrs:!1,props:{...Vt,...gn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Pt,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:a}){const u=re(),g=_(null),y=_(!1),C=_(!1);let P=null,p=null,M,x;const D=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:B}=yn(),{registerTimeout:V}=Te(),{registerTick:j,removeTick:N}=Ie(),{transitionProps:U,transitionStyle:R}=mn(e,()=>kt[e.position][0],()=>kt[e.position][1]),w=f(()=>R.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:O,hidePortal:z,portalIsAccessible:A,renderPortal:$}=hn(u,g,G,"dialog"),{hide:F}=It({showing:y,hideOnRouteChange:D,handleShow:H,handleHide:r,processOnMount:!0}),{addToHistory:d,removeFromHistory:s}=bn(y,F,D),k=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${ml[e.position]}`+(C.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),o=f(()=>y.value===!0&&e.seamless!==!0),q=f(()=>e.autoClose===!0?{onClick:i}:{}),T=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${o.value===!0?"modal":"seamless"}`,a.class]);X(()=>e.maximized,b=>{y.value===!0&&L(b)}),X(o,b=>{B(b),b===!0?(pn(ne),kn(m)):(st(ne),ct(m))});function H(b){d(),p=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,L(e.maximized),O(),C.value=!0,e.noFocus!==!0?(document.activeElement?.blur(),j(c)):N(),V(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:Z,bottom:ce}=document.activeElement.getBoundingClientRect(),{innerHeight:xe}=window,he=window.visualViewport!==void 0?window.visualViewport.height:xe;Z>0&&ce>he/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-he,ce>=xe?1/0:Math.ceil(document.scrollingElement.scrollTop+ce-he/2))),document.activeElement.scrollIntoView()}x=!0,g.value.click(),x=!1}O(!0),C.value=!1,l("show",b)},e.transitionDuration)}function r(b){N(),s(),E(!0),C.value=!0,z(),p!==null&&(((b?.type.indexOf("key")===0?p.closest('[tabindex]:not([tabindex^="-"])'):void 0)||p).focus(),p=null),V(()=>{z(!0),C.value=!1,l("hide",b)},e.transitionDuration)}function c(b){nt(()=>{let Z=g.value;if(Z!==null){if(b!==void 0){const ce=Z.querySelector(b);if(ce!==null){ce.focus({preventScroll:!0});return}}Z.contains(document.activeElement)!==!0&&(Z=Z.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||Z.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||Z.querySelector("[autofocus], [data-autofocus]")||Z,Z.focus({preventScroll:!0}))}})}function n(b){b&&typeof b.focus=="function"?b.focus({preventScroll:!0}):c(),l("shake");const Z=g.value;Z!==null&&(Z.classList.remove("q-animate--scale"),Z.classList.add("q-animate--scale"),P!==null&&clearTimeout(P),P=setTimeout(()=>{P=null,g.value!==null&&(Z.classList.remove("q-animate--scale"),c())},170))}function m(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&n():(l("escapeKey"),F()))}function E(b){P!==null&&(clearTimeout(P),P=null),(b===!0||y.value===!0)&&(L(!1),e.seamless!==!0&&(B(!1),st(ne),ct(m))),b!==!0&&(p=null)}function L(b){b===!0?M!==!0&&(Pe<1&&document.body.classList.add("q-body--dialog"),Pe++,M=!0):M===!0&&(Pe<2&&document.body.classList.remove("q-body--dialog"),Pe--,M=!1)}function i(b){x!==!0&&(F(b),l("click",b))}function W(b){e.persistent!==!0&&e.noBackdropDismiss!==!0?F(b):e.noShake!==!0&&n()}function ne(b){e.allowFocusOutside!==!0&&A.value===!0&&Jt(g.value,b.target)!==!0&&c('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:c,shake:n,__updateRefocusTarget(b){p=b||null}}),pe(E);function G(){return h("div",{role:"dialog","aria-modal":o.value===!0?"true":"false",...a,class:T.value},[h(De,{name:"q-transition--fade",appear:!0},()=>o.value===!0?h("div",{class:"q-dialog__backdrop fixed-full",style:w.value,"aria-hidden":"true",tabindex:-1,onClick:W}):null),h(De,U.value,()=>y.value===!0?h("div",{ref:g,class:k.value,style:R.value,tabindex:-1,...q.value},ue(t.default)):null)])}return $}}),bl=se({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:l}}=re(),a=qe(on,ge);if(a===ge)return console.error("QPage needs to be a deep child of QLayout"),ge;if(qe(rn,ge)===ge)return console.error("QPage needs to be child of QPageContainer"),ge;const g=f(()=>{const C=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const P=a.isContainer.value===!0?a.containerHeight.value:l.screen.height;return e.styleFn(C,P)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-C+"px":l.screen.height===0?C!==0?`calc(100vh - ${C}px)`:"100vh":l.screen.height-C+"px"}}),y=f(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>h("main",{class:y.value,style:g.value},ue(t.default))}});function xt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const Ct=un({name:"close-popup",beforeMount(e,{value:t}){const l={depth:xt(t),handler(a){l.depth!==0&&setTimeout(()=>{const u=xn(e);u!==void 0&&Cn(u,a,l.depth)})},handlerKey(a){St(a,13)===!0&&l.handler(a)}};e.__qclosepopup=l,e.addEventListener("click",l.handler),e.addEventListener("keyup",l.handlerKey)},updated(e,{value:t,oldValue:l}){t!==l&&(e.__qclosepopup.depth=xt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}),yl={class:"row q-col-gutter-xl"},pl={class:"col-8"},kl={class:"row q-gutter-x-xs q-mt-sm"},xl={class:"absolute-bottom text-subtitle1 text-center",style:{height:"30%","word-wrap":"break-word",padding:"0px","font-size":"0.8rem"}},Cl={class:"col-4"},wl={class:"text-h6"},Sl={class:"relative-position"},_l={class:"row items-center justify-between w-100"},ql={class:"text-weight-bold"},Tl={class:"text-subtitle2 text-primary"},Ml={class:"q-mt-sm row items-center no-wrap"},Bl={class:"text-caption text-grey-7 q-mt-xs"},Rl={class:"text-subtitle1"},Xe=1,Al=sn({__name:"SalesTerminal",setup(e){const t=_(null);function l(r){t.value=r}function a(){t.value=null}function u(){t.value!==null&&(H(t.value),t.value=null)}const g=["Stationery","Books","Office"],y=_(g[0]),C=_([{id:1,name:"Blue Ballpoint Pen",price:1.2,image:"/images/1.png",category:"Stationery"},{id:2,name:"A5 Spiral Notebook",price:3.5,image:"/images/2.png",category:"Stationery"},{id:3,name:"Highlighter Set",price:4,image:"/images/3.png",category:"Stationery"},{id:4,name:"Stapler",price:5.5,image:"/images/4.png",category:"Office"},{id:5,name:"Desk Organizer",price:9.9,image:"/images/5.png",category:"Office"},{id:6,name:"Mystery Novel",price:7.99,image:"/images/6.png",category:"Books"},{id:7,name:"Science Textbook",price:24.5,image:"/images/7.png",category:"Books"}]),P=f(()=>C.value.filter(r=>r.category===y.value)),p=_([]);function M(r){p.value.push(r)}const x=_(null),D=_(null);function B(r,c){const n=c.currentTarget||null,m=x.value,E=m?m.$el:null;if(!n||!E){M(r),D.value=r.id;return}const L=E,i=n.getBoundingClientRect();M(r),D.value=r.id,de(()=>{const G=(document.querySelector(`.receipt-list [data-line-id="${r.id}"]`)??L).getBoundingClientRect(),b=n.cloneNode(!0);b.classList.add("fly-clone"),Object.assign(b.style,{position:"fixed",margin:"0",top:i.top+"px",left:i.left+"px",width:i.width+"px",height:i.height+"px",zIndex:"99999",pointerEvents:"none",transform:"translate(0,0) scale(1)",transition:"transform .65s cubic-bezier(.55,.06,.27,.99), opacity .65s ease"}),document.body.appendChild(b),b.offsetWidth;const Z=G.left+G.width*.1,ce=G.top+G.height*.5,xe=Z-i.left,he=ce-i.top;requestAnimationFrame(()=>{b.style.transform=`translate(${xe}px, ${he}px) scale(.28)`,b.style.opacity="0.45"});const Me=()=>b.remove();b.addEventListener("transitionend",Me,{once:!0}),setTimeout(Me,900),setTimeout(()=>{D.value===r.id&&(D.value=null)},1e3)})}const{locale:V}=qn(),j=["en","fr","ar"];function N(){const r=j.indexOf(V.value),c=j[(r+1)%j.length]??"en";V.value=c}const U=f(()=>{const r=new Map;for(const c of p.value){const n=r.get(c.id);n?n.qty+=1:r.set(c.id,{...c,qty:1})}return Array.from(r.values())}),R=f(()=>U.value.reduce((r,c)=>r+c.price*c.qty,0)),w=_(null);function O(r,c){w.value=c?r:w.value===r?null:w.value}function z(r){r.target.closest(".receipt-fab")||(w.value=null)}ke(()=>document.addEventListener("click",z)),pe(()=>document.removeEventListener("click",z));const A=_(!1),$=_(null),F=_(0),d=f(()=>{if($.value==null)return"";const r=U.value.find(c=>c.id===$.value);return r?r.name:""});function s(r){$.value=r.id,F.value=r.qty,A.value=!0}function k(){$.value!=null&&(o($.value,F.value),A.value=!1)}function o(r,c){const n=p.value.filter(m=>m.id===r).length;if(c<=0){p.value=p.value.filter(m=>m.id!==r);return}if(c!==n)if(c>n){const m=C.value.find(L=>L.id===r);if(!m)return;const E=c-n;for(let L=0;L<E;L++)p.value.push(m)}else{let m=n-c;for(let E=p.value.length-1;E>=0&&m>0;E--){const L=p.value[E];L&&L.id===r&&(p.value.splice(E,1),m--)}}}function q(r){const c=C.value.find(n=>n.id===r);c&&p.value.push(c),de(()=>{w.value=r})}function T(r){const c=p.value.findIndex(m=>m.id===r);c!==-1&&p.value.splice(c,1);const n=p.value.some(m=>m.id===r);de(()=>{w.value=n?r:null})}function H(r){p.value=p.value.filter(c=>c.id!==r),w.value===r&&(w.value=null)}return(r,c)=>(Ce(),ut(bl,{class:"q-pa-md"},{default:le(()=>[oe("div",yl,[oe("div",pl,[Q(Ln,{modelValue:y.value,"onUpdate:modelValue":c[0]||(c[0]=n=>y.value=n),class:"text-primary",align:"left",dense:""},{default:le(()=>[(Ce(),Re(Ne,null,He(g,n=>Q($n,{key:n,name:n,label:n},null,8,["name","label"])),64))]),_:1},8,["modelValue"]),oe("div",kl,[(Ce(!0),Re(Ne,null,He(P.value,n=>(Ce(),Re("div",{key:n.id,class:"col-6 col-sm-4 col-md-3 col-lg-2 q-mb-xs"},[Q(Ze,{bordered:"",class:"shadow-4 cursor-pointer",style:{width:"100%",height:"120px"},onClick:m=>B(n,m)},{default:le(()=>[Q(Dn,{src:n.image,alt:n.name,style:{width:"100%",height:"119px"},"img-style":{objectFit:"contain",width:"100%",height:"100%"},fit:"contain","img-class":"q-pa-xs bg-white"},{default:le(()=>[oe("div",xl,ve(n.name)+" - "+ve(n.price.toFixed(2))+" MAD ",1)]),_:2},1032,["src","alt"])]),_:2},1032,["onClick"])]))),128))])]),oe("div",Cl,[Q(Ze,null,{default:le(()=>[Q($e,{class:"bg-grey-2"},{default:le(()=>[oe("div",wl,ve(r.$t("receipt")),1)]),_:1}),Q(Ue),oe("div",Sl,[Q(wn,{ref_key:"receiptListRef",ref:x,class:"receipt-list"},{default:le(()=>[(Ce(!0),Re(Ne,null,He(U.value,n=>(Ce(),ut(Sn,{key:n.id,"data-line-id":n.id,draggable:"true",onDragstart:m=>l(n.id),onDragend:a,class:Ke({dragging:t.value===n.id,"receipt-added":D.value===n.id})},{default:le(()=>[Q(dt,{avatar:""},{default:le(()=>[Q(Hn,{color:"primary","text-color":"white",label:n.qty.toString(),padding:"xs",dense:"",direction:"left",icon:"more_vert",class:"receipt-fab","model-value":w.value===n.id,"onUpdate:modelValue":m=>O(n.id,m)},{default:le(()=>[Q(Fe,{color:"primary",icon:"add",onClick:_e(m=>q(n.id),["stop"])},null,8,["onClick"]),Q(Fe,{color:"primary",icon:"remove",disable:n.qty<=1,onClick:_e(m=>T(n.id),["stop"])},null,8,["disable","onClick"]),Q(Fe,{color:"secondary",icon:"edit",onClick:_e(m=>s(n),["stop"])},null,8,["onClick"]),Q(Fe,{color:"negative",icon:"delete",onClick:_e(m=>H(n.id),["stop"])},null,8,["onClick"])]),_:2},1032,["label","model-value","onUpdate:modelValue"])]),_:2},1024),Q(dt,null,{default:le(()=>[oe("div",_l,[oe("span",null,ve(n.name),1),oe("span",ql,ve((n.price*n.qty).toFixed(2))+" MAD",1)])]),_:2},1024)]),_:2},1032,["data-line-id","onDragstart","class"]))),128))]),_:1},512),Ve(oe("div",{class:Ke(["trash-drop-zone fixed-center",{"trash-active":t.value!==null}]),onDragover:c[1]||(c[1]=_e(()=>{},["prevent"])),onDrop:u,style:cn(t.value!==null?"z-index:9999;pointer-events:auto;":"pointer-events:none;")},[Q(me,{name:"delete",color:t.value!==null?"negative":"grey-6",size:"64px",class:Ke(t.value!==null?"q-animate-bounce":"")},null,8,["color","class"])],38),[[dn,t.value!==null]])]),Q(hl,{modelValue:A.value,"onUpdate:modelValue":c[5]||(c[5]=n=>A.value=n)},{default:le(()=>[Q(Ze,{style:{width:"320px","max-width":"90vw"},class:"q-pa-sm"},{default:le(()=>[Q($e,{class:"row items-center q-pb-none"},{default:le(()=>[c[6]||(c[6]=oe("div",{class:"text-h6"},"Edit Quantity",-1)),Q(_n),Ve(Q(ye,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ct]])]),_:1}),Q($e,{class:"q-pt-sm"},{default:le(()=>[oe("div",Tl,ve(d.value),1),oe("div",Ml,[Q(ye,{dense:"",round:"",icon:"remove",color:"primary",disable:F.value<=0,onClick:c[2]||(c[2]=n=>F.value=+Math.max(0,F.value-Xe).toFixed(2))},null,8,["disable"]),Q(vl,{modelValue:F.value,"onUpdate:modelValue":c[3]||(c[3]=n=>F.value=n),modelModifiers:{number:!0},type:"number",dense:"",outlined:"",class:"q-mx-sm col",step:Xe,min:"0"},null,8,["modelValue"]),Q(ye,{dense:"",round:"",icon:"add",color:"primary",onClick:c[4]||(c[4]=n=>F.value=+(F.value+Xe).toFixed(2))})]),oe("div",Bl,ve(r.$t("editHint")),1)]),_:1}),Q(Ue,{inset:""}),Q(gl,{align:"right"},{default:le(()=>[Ve(Q(ye,{flat:"",label:r.$t("cancel")},null,8,["label"]),[[Ct]]),Q(ye,{color:"primary",label:r.$t("apply"),onClick:k},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Q(Ue),Q($e,{class:"text-right"},{default:le(()=>[oe("div",Rl,ve(r.$t("total"))+": "+ve(R.value.toFixed(2))+" MAD",1),Q(ye,{color:"positive",label:r.$t("checkout"),class:"q-mt-sm",onClick:N},null,8,["label"])]),_:1})]),_:1})])])]),_:1}))}}),$l=(e,t)=>{const l=e.__vccOpts||e;for(const[a,u]of t)l[a]=u;return l},Vl=$l(Al,[["__scopeId","data-v-b460bf49"]]);export{Vl as default};
